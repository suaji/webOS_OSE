(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b44df52a"],{"4f45":function(e,t,s){"use strict";var i=s("d07f"),r=s.n(i);t["default"]=r.a},b1ce:function(e,t,s){"use strict";var i=s("dd45"),r=s.n(i);t["default"]=r.a},b77f:function(e,t,s){"use strict";s.r(t);var i=function(){var e,t=this,s=t.$createElement,i=t._self._c||s;return i("div",{class:(e={},e[t.$style.stripe]=!0,e[t.$style.carousel]=t.isCarousel,e)},[t.slides.length>0?i(t.usedComponent,{tag:"Component",attrs:{title:t.submenu.title,route:t.listRoute,items:t.slides}}):t._e(),t.slides.length>0&&t.loading?i("div",{class:t.$style.loader},[i("BaseIcon",{attrs:{name:"sync",spin:""}})],1):t._e()],1)},r=[],a=(s("e01a"),s("ddb0"),s("f3f3")),n=s("2f62"),l=s("4d77"),o=s("5dcc"),u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"carousel",class:e.$style.carouselSection},[s("div",{class:e.$style.carouselWrapper},[s("Swiper",{ref:"carousel",attrs:{options:e.swiperSettings},on:{transitionEnd:e.onAfterSlide,transitionStart:e.onBeforeSlide}},[e._l(e.items,(function(t,i){return[s("SwiperSlide",{key:i+"-"+t.id,attrs:{index:i}},[s("CarouselItem",{attrs:{title:t.title,route:t.route,description:t.description,"image-url":t.imageUrl,active:e.linkActive}})],1)]})),s("div",{staticClass:"swiper-button-prev swiper-button-white",attrs:{slot:"button-prev"},slot:"button-prev"}),s("div",{staticClass:"swiper-button-next swiper-button-white",attrs:{slot:"button-next"},slot:"button-next"})],2)],1)])},c=[],d=(s("a7a3"),s("7212")),m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.$style.slide},[e.url?s("img",{staticClass:"swiper-lazy",attrs:{"data-src":e.url,alt:e.title}}):e._e(),s("div",{staticClass:"swiper-lazy-preloader swiper-lazy-preloader-white"})])},p=[],h=(s("5319"),{props:{title:{type:String,required:!1,default:""},description:{type:String,required:!1,default:""},route:{type:Object,required:!1,default:()=>{}},imageUrl:{type:String,required:!1,default:null},active:{type:Boolean,required:!1,default:!1}},computed:{url(){if(0===this.imageUrl.indexOf("https://s3-ap-southeast-1.amazonaws.com/smartware-cms-prod/")){const e=this.imageUrl.replace("https://s3-ap-southeast-1.amazonaws.com/smartware-cms-prod/","/");return e}return this.imageUrl}},methods:{onClick(e){this.active||e.preventDefault()}}}),f=h,b=s("4f45"),g=s("2877");function y(e){this["$style"]=b["default"].locals||b["default"]}var w=Object(g["a"])(f,m,p,!1,y,null,null),v=w.exports,S={components:{CarouselItem:v,Swiper:d["Swiper"],SwiperSlide:d["SwiperSlide"]},props:{title:{type:String,required:!0},route:{type:Object,required:!1,default:()=>{}},items:{type:Array,required:!0}},data(){return{swiperSettings:{centeredSlides:!0,lazy:{loadPrevNext:!0,loadOnTransitionStart:!0},autoplay:{delay:1e4,disableOnInteraction:!1},effect:"fade",fadeEffect:{crossFade:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},linkActive:!0,swiperTimeout:null}},computed:Object(a["a"])({},l["a"]),mounted(){if(this.swiper()){this.swiper().autoplay.stop();const e=this;this.swiperTimeout=setTimeout((function(){e.swiper()&&e.swiper().autoplay.start()}),this.swiperSettings.autoplay.delay)}},beforeDestroy(){this.swiperTimeout&&clearTimeout(this.swiperTimeout)},methods:{onBeforeSlide(e){this.linkActive=!1},onAfterSlide(e){this.linkActive=!0,this.$emit("afterSlide",e)},swiper(){return this.$refs.carousel?this.$refs.carousel.$swiper:null}}},C=S,I=s("ea81");function O(e){this["$style"]=I["default"].locals||I["default"]}var _=Object(g["a"])(C,u,c,!1,O,null,null),U=_.exports,j={components:{HorizontalScrollList:o["default"],Carousel:U},props:{submenu:{type:Object,required:!0},episodeTitles:{type:Boolean,default:!1}},data(){return{items:[],error:!1,errorMsg:null,initializeItems:200,lazyload:!0,count:0,loading:!1,dummy:{id:0,title:"",description:"",ignoreImageLazyload:!0,route:{name:"main",title:""}}}},computed:Object(a["a"])(Object(a["a"])({},l["a"]),{},{isCarousel(){return this.submenu&&"carousel"===this.submenu.display},usedComponent(){return this.isCarousel?"Carousel":"HorizontalScrollList"},slides(){return this.items},listRoute(){return this.isChannelSubmenu&&this.slides.length>0?this.slides[0].route:{name:"category",title:this.submenu.title,params:{category:this.submenu.name}}},isChannelSubmenu(){return!(!this.submenu.type||"epg"!==this.submenu.type&&-1===this.submenu.type.indexOf("radio"))}}),watch:{submenu:function(e,t){e.name!==t.name&&this.fetchData()}},created(){this.fetchData(this.initializeItems)},methods:Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])({},l["j"]),Object(n["b"])("menus",["fetchView"])),Object(n["b"])("channels",["fetchChannels"])),{},{fetchData(e,t){const s=this;if(this.loading)return;this.loading=!0;const i=this.isChannelSubmenu?"fetchChannels":"fetchView",r="fetchChannels"===i?{server:this.submenu.connector,type:this.submenu.type}:{name:this.submenu.name,connector:this.submenu.connector,limit:e,offset:t};this[i](r).then(t=>{this.handleItem(i,t,e)}).catch((function(e){s.errorMsg=e.message?e.message:null,s.error=!0,s.items=[],s.lazyload=!1,s.count=0,s.loading=!1}))},handleItem(e,t,s){const i=t.map(t=>"fetchChannels"===e?this.handleChannelItem(t):this.handleMenuItem(t));this.submenu.flip&&i.reverse(),this.lazyload=i.length===s,this.items=[...this.items,...i],this.isCarousel&&this.items.sort((e,t)=>e.id>t.id?-1:t.id>e.id?1:0),this.count=this.items.length,this.loading=!1},handleChannelItem(e){const t=e.imageUrls&&e.imageUrls.length>0?e.imageUrls.length>1?e.imageUrls[1]:e.imageUrls[0]:null,s=e.streamUrls&&e.streamUrls.length>0?e.streamUrls:[],i=this.isRadioItem(e)?"radio":"tv";return{id:e.id,serverId:e.serverId,server:this.submenu.connector,title:e.title,code:e.code,type:e.type,streams:s,route:{name:"channel",title:e.title,params:{type:i,channelCode:e.code}},imageUrl:t}},handleMenuItem(e){const t=e.imageUrls.length>0?e.imageUrls[0]:null,s=Object(l["j"])(this.submenu.connector),i=this.episodeTitles?e.title:e.seriesTitle||e.title;return{id:e.id,title:i,description:e.description,route:{name:"player",title:i,params:{connector:s,seriesId:e.seriesId,id:e.id}},imageUrl:e.promoImageUrl&&""!==e.promoImageUrl?e.promoImageUrl:t}},onReachEnd(){this.lazyload&&this.fetchData(this.initializeItems,this.count)},isRadioItem(e){return-1!==e.type.indexOf("radio")}})},x=j,z=s("b1ce");function $(e){this["$style"]=z["default"].locals||z["default"]}var T=Object(g["a"])(x,i,r,!1,$,null,null);t["default"]=T.exports},d07f:function(e,t,s){e.exports={slide:"Carousel-item_slide_TmiZf"}},dca5:function(e,t,s){e.exports={carouselSection:"Carousel_carouselSection_1_oiW"}},dd45:function(e,t,s){e.exports={stripe:"Stripe_stripe_-H-7r",carousel:"Stripe_carousel_1L-2X",loader:"Stripe_loader_Prt4P"}},ea81:function(e,t,s){"use strict";var i=s("dca5"),r=s.n(i);t["default"]=r.a}}]);
//# sourceMappingURL=chunk-b44df52a.51da907d.js.map